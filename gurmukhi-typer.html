<!DOCTYPE html>
<html>
<head>
    <title>Punjabi Gurmukhi typer</title>
<meta charset="utf-8">

    <script type="text/javascript">
	  
var conversion = {
"k": "ਕ",
"kh": "ਖ",
"g": "ਗ",
"gh": "ਘ",
"ng": "ਙ",

"c": "ਚ",
"ch": "ਛ",
"j": "ਜ",
"jh": "ਝ",
"ny": "ਞ",

"T": "ਟ",
"Th": "ਠ",
"D": "ਡ",
"Dh": "ਢ",
"N": "ਣ",

"t": "ਤ",
"th": "ਥ",
"d": "ਦ",
"dh": "ਧ",
"n": "ਨ",

"p": "ਪ",
"ph": "ਫ",
"b": "ਬ",
"bh": "ਭ",
"m": "ਮ",

"h": "ਹ",
"y": "ਯ",
"r": "ਰ",
"l": "ਲ",
"v": "ਵ",
"s": "ਸ",
"S":"ਸ਼",

"M": "ੰ",
"-": "ੱ",
"w":"਼", 
"q": "੍", 
"Q": "ੑ",//udaat

"a": "&#8203;",
"aa": "ਾ",
"i": "ਿ",
"ii": "ੀ",
"u": "ੁ",
"uu": "ੂ",

"e": "ੇ",
"ai": "ੈ",
"o": "ੋ",
"au": "ੌ",
"qa": "ਅ",
"qaa": "ਆ",
"qi": "ਇ",
"qii": "ਈ",
"qu": "ਉ",
"quu": "ਊ",

"qe": "ਏ",
"qai": "ਐ",
"qo": "ਓ",
"qau": "ਔ",
"x": "ੴ",

"1": "੧",
"2": "੨",
"3": "੩",
"4": "੪",
"5": "੫",
"6": "੬",
"7": "੭",
"8": "੮",
"9": "੯",
"0": "੦",

".": "।",

        };

 var maxLength = Object.keys(conversion)
    .reduce((a, b) => a.length > b.length ? a : b) // get the longest word
    .length; // and it's length
  
  function convert (text) {
    var converted = "";
    var cur = 0;
    while (cur < text.length) {
      var testedPhoneme;
      var symbol = undefined;
      for (var length = maxLength; length > 0; length --) {
        testedPhoneme = text.substr(cur, length);
        if (conversion[testedPhoneme]) {
          symbol = conversion[testedPhoneme];
          break; // stop the loop
        }
      }
      if (symbol) {
        converted += symbol;
        cur += testedPhoneme.length;
      }
      else {
        converted += text[cur]
        cur++;
      }
    }
    return converted
  }

  function onInputTextChange(txt) {
    var outputTextareaElem = document.getElementById("output_textarea");
    var div = document.createElement("div");
    var outputHtmlEntities = convert(txt);
    div.innerHTML = outputHtmlEntities;
    outputTextareaElem.value = div.innerText;
  }


        function select() {
          const input = document.getElementById('input_textarea');
          input.focus();
          input.select();
        }   
        function copytext() {
          var copyText = document.getElementById("output_textarea");
          copyText.select();
          copyText.setSelectionRange(0, 99999)
          document.execCommand("copy");
        }

    </script>
    
<style>
html {
font-family:arial
}
table {
  border-collapse: collapse;
  width: 90%;
}
td, th {
  border: 1px solid #AAA;
  text-align: center;
  padding: 1px;
}
textarea {
	font-size: 16pt;
	font-family: Arial;
    width: 96%;
} 
.note {
  border: 1px solid #DDD;
  width: 30%;
  text-align: left;
  padding-left: 30px;
  padding-right: 30px;
  padding-top: 10px;
  padding-bottom: 10px;
}
</style>


</head>
<body>  

<body>  

<center><h1 class="text-center">Punjabi Gurmukhi typer</h1>

<table>
<thead>
<tr>
<th>	
<button onclick="select('input_textarea')">Select all</button>
<button onclick="document.getElementById('input_textarea').value = ''">Clear</button>
</th>
<th>
<button onclick="copytext()">Copy text</button>
<button onclick="sanskrit()">Sanskrit</button>
<button onclick="wikt()">Wikt.</button>
<button onclick="naver()">Naver</button>
<script>
function sanskrit() {
window.open("https://sanskritdictionary.com/?iencoding=iast&q=" + document.getElementById('output_textarea').value + "&lang=sans&action=Search", "_blank");
}
function sanskrit() {
window.open("https://sanskritdictionary.com/?iencoding=iast&q=" + document.getElementById('output_textarea').value + "&lang=sans&action=Search", "_blank");
}
function wikt() {
	window.open("https://en.wiktionary.org/wiki/" + document.getElementById('output_textarea').value, "_blank", "toolbar=yes,scrollbars=yes,resizable=yes,top=0,left=300,width=600,height=600");
}
function naver() {
	window.open("https://dict.naver.com/hikodict/#/search?query=" + document.getElementById('output_textarea').value, "_blank", "toolbar=yes,scrollbars=yes,resizable=yes,top=0,left=300,width=600,height=600");
}
</script>
</th>
<th style="width: 200px">Conversion table</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<textarea
id="input_textarea"
autofocus=""
placeholder="Input text here"
rows="10"
oninput="onInputTextChange(this.value)"></textarea>    
</td>
<td>
<textarea rows="10" placeholder="output" id="output_textarea"></textarea>    
</td>
<td>

<center>
<div style="overflow-y: scroll; height:250px; width:170px">


<table>
<thead>
<tr>
<th>in.</th>
<th>out</th>
</tr>
</thead>
<tbody>
<tr>
<td>k</td>
<td>ਕ</td>
</tr>
<tr>
<td>kh</td>
<td>ਖ</td>
</tr>
<tr>
<td>g</td>
<td>ਗ</td>
</tr>
<tr>
<td>gh</td>
<td>ਘ</td>
</tr>
<tr>
<td>ng</td>
<td>ਙ</td>
</tr>
<tr>
<td>c</td>
<td>ਚ</td>
</tr>
<tr>
<td>ch</td>
<td>ਛ</td>
</tr>
<tr>
<td>j</td>
<td>ਜ</td>
</tr>
<tr>
<td>jh</td>
<td>ਝ</td>
</tr>
<tr>
<td>ny</td>
<td>ਞ</td>
</tr>
<tr>
<td>T</td>
<td>ਟ</td>
</tr>
<tr>
<td>Th</td>
<td>ਠ</td>
</tr>
<tr>
<td>D</td>
<td>ਡ</td>
</tr>
<tr>
<td>Dh</td>
<td>ਢ</td>
</tr>
<tr>
<td>N</td>
<td>ਣ</td>
</tr>
<tr>
<td>t</td>
<td>ਤ</td>
</tr>
<tr>
<td>th</td>
<td>ਥ</td>
</tr>
<tr>
<td>d</td>
<td>ਦ</td>
</tr>
<tr>
<td>dh</td>
<td>ਧ</td>
</tr>
<tr>
<td>n</td>
<td>ਨ</td>
</tr>
<tr>
<td>p</td>
<td>ਪ</td>
</tr>
<tr>
<td>ph</td>
<td>ਫ</td>
</tr>
<tr>
<td>b</td>
<td>ਬ</td>
</tr>
<tr>
<td>bh</td>
<td>ਭ</td>
</tr>
<tr>
<td>m</td>
<td>ਮ</td>
</tr>
<tr>
<td>h</td>
<td>ਹ</td>
</tr>
<tr>
<td>y</td>
<td>ਯ</td>
</tr>
<tr>
<td>r</td>
<td>ਰ</td>
</tr>
<tr>
<td>l</td>
<td>ਲ</td>
</tr>
<tr>
<td>v</td>
<td>ਵ</td>
</tr>
<tr>
<td>s</td>
<td>ਸ</td>
</tr>
<tr>
<td>S</td>
<td>ਸ਼</td>
</tr>
<tr>
<td>M</td>
<td>ੰ</td>
</tr>
<tr>
<td>-</td>
<td>ੱ</td>
</tr>
<tr>
<td>w</td>
<td>਼</td>
</tr>
<tr>
<td>q</td>
<td>੍</td>
</tr>
<tr>
<td>Q</td>
<td>ੑ</td>
</tr>
<tr>
<td>a</td>
<td>split</td>
</tr>
<tr>
<td>aa</td>
<td>ਾ</td>
</tr>
<tr>
<td>i</td>
<td>ਿ</td>
</tr>
<tr>
<td>ii</td>
<td>ੀ</td>
</tr>
<tr>
<td>u</td>
<td>ੁ</td>
</tr>
<tr>
<td>uu</td>
<td>ੂ</td>
</tr>
<tr>
<td>e</td>
<td>ੇ</td>
</tr>
<tr>
<td>ai</td>
<td>ੈ</td>
</tr>
<tr>
<td>o</td>
<td>ੋ</td>
</tr>
<tr>
<td>au</td>
<td>ੌ</td>
</tr>
<tr>
<td>qa</td>
<td>ਅ</td>
</tr>
<tr>
<td>qaa</td>
<td>ਆ</td>
</tr>
<tr>
<td>qi</td>
<td>ਇ</td>
</tr>
<tr>
<td>qii</td>
<td>ਈ</td>
</tr>
<tr>
<td>qu</td>
<td>ਉ</td>
</tr>
<tr>
<td>quu</td>
<td>ਊ</td>
</tr>
<tr>
<td>qe</td>
<td>ਏ</td>
</tr>
<tr>
<td>qai</td>
<td>ਐ</td>
</tr>
<tr>
<td>qo</td>
<td>ਓ</td>
</tr>
<tr>
<td>qau</td>
<td>ਔ</td>
</tr>
<tr>
<td>x</td>
<td>ੴ</td>
</tr>
<tr>
<td>1</td>
<td>੧</td>
</tr>
<tr>
<td>2</td>
<td>੨</td>
</tr>
<tr>
<td>3</td>
<td>੩</td>
</tr>
<tr>
<td>4</td>
<td>੪</td>
</tr>
<tr>
<td>5</td>
<td>੫</td>
</tr>
<tr>
<td>6</td>
<td>੬</td>
</tr>
<tr>
<td>7</td>
<td>੭</td>
</tr>
<tr>
<td>8</td>
<td>੮</td>
</tr>
<tr>
<td>9</td>
<td>੯</td>
</tr>
<tr>
<td>0</td>
<td>੦</td>
</tr>
<tr>
<td>.</td>
<td>।</td>
</tr>
</tbody>
</table>

</div>
</center>

</td>
</tr>
</tbody>
</table>
</center>

</body>
</html>

